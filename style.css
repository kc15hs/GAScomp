/* ベース */
*{box-sizing:border-box}
html,body{margin:0;height:100%;background:#0b0b0c;color:#fff;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Noto Sans JP",sans-serif}
.app-bar{position:sticky;top:0;z-index:2;background:#101115;border-bottom:1px solid #222;padding:12px 16px;text-align:center}
.app-bar h1{margin:0;font-size:16px;font-weight:700}
.container{padding:16px 12px 96px;max-width:880px;margin:0 auto}
.card{background:#12131a;border:1px solid #20222b;border-radius:14px;padding:14px;margin-bottom:12px}
.card h2{margin:2px 0 10px;font-size:14px;color:#9fb0ff;font-weight:700}

/* 基本入力 */
.grid-2{display:grid;grid-template-columns:1fr 1fr;gap:8px;align-items:center}
.titles{margin-bottom:6px}
.titles .th{font-size:12px;opacity:.85}
.inputs input[type=number]{width:100%}

/* 共通入力 */
input[type=number], input[type=text], input[type=date]{
  width:100%;padding:10px 12px;border-radius:10px;border:1px solid #2a2e3a;background:#0f1118;color:#fff;font-size:16px
}
input::placeholder{color:#6d7280}

/* 区間タイトル/行 */
.segments-title{
  display:grid;
  grid-template-columns:5% 15% 15% 15% 15% 10% auto;
  gap:8px;font-size:12px;margin-bottom:6px;opacity:.8
}
.segments{display:grid;gap:8px}
.seg{
  display:grid;
  grid-template-columns:5% 15% 15% 15% 15% 10% auto;
  gap:8px;align-items:center
}
.seg input[type=checkbox]{transform:scale(1.15)}
.seg input[type=number], .seg input[type=text]{padding:8px;border-radius:8px;border:1px solid #2a2e3a;background:#0f1118;color:#fff;font-size:14px}
.seg button{border:1px solid #2a2e3a;background:#181b27;color:#fff;padding:8px 12px;border-radius:8px;cursor:pointer;white-space:nowrap}

/* 日付：テキスト欄＋隠しdate */
.date-wrapper{position:relative;display:flex;align-items:center;gap:6px}
.seg-date-picker{
  position:absolute; inset:0; opacity:0; pointer-events:none; /* 見えない＆クリック不可 */
}
/* ただし showPicker() で開くため要素自体は存在 */

/* 行操作/集計/結果 */
.segment-actions{display:flex;gap:8px;margin-top:8px;flex-wrap:wrap}
.segment-actions button{border:1px solid #2a2e3a;background:#181b27;color:#fff;padding:10px 12px;border-radius:10px;cursor:pointer}
.sumline{margin-top:8px;font-size:14px;opacity:.9}
.result-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.label{font-size:12px;opacity:.8}
.value{font-size:20px;font-weight:800}
.note{margin-top:8px;color:#ffb3b3;font-size:12px;min-height:1em}
.actions{display:flex;gap:8px;margin-top:12px}
.actions button{border:0;background:#fff;color:#111;padding:12px;border-radius:10px;font-weight:800;cursor:pointer}
.actions .ghost{background:#1a1d28;color:#fff;border:1px solid #2a2e3a}

/* フッター */
.foot-note{position:fixed;left:0;right:0;bottom:0;padding:10px 12px;background:#101115;border-top:1px solid #20222b;text-align:center;color:#9aa0ae;font-size:12px}
@supports(padding:max(0px)){.foot-note{padding-bottom:max(10px,env(safe-area-inset-bottom))}}

/* スモール画面 */
@media (max-width:560px){
  .segments-title,.seg{grid-template-columns:9% 18% 1fr 1fr 1fr 16% auto}
}
